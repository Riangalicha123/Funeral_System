{"ast":null,"code":"import { Pie } from 'vue-chartjs';\nimport { Chart as ChartJS, Title, Tooltip, Legend, PieController, CategoryScale, LinearScale, PointElement, ArcElement } from 'chart.js';\nimport axios from 'axios';\nChartJS.register(Title, Tooltip, Legend, PieController, CategoryScale, LinearScale, PointElement, ArcElement);\nexport default {\n  name: 'PieChart',\n  components: {\n    Pie\n  },\n  data() {\n    return {\n      loaded: false,\n      chartData: null\n    };\n  },\n  mounted() {\n    this.fetchChartData();\n  },\n  methods: {\n    async fetchChartData() {\n      try {\n        const response = await axios.get('/totallocationpercentage');\n        this.mapResponseToChartData(response.data);\n        this.loaded = true;\n      } catch (error) {\n        console.error('Error fetching data from the API:', error);\n        // Handle error, display message, or log it\n      }\n    },\n\n    mapResponseToChartData(data) {\n      // Map the response data to chartData\n      this.chartData = {\n        labels: data.addresses.map(item => item.Address),\n        datasets: [{\n          data: data.addresses.map(item => item.PercentagePlanHolder),\n          backgroundColor: ['rgba(255, 99, 132, 0.8)', 'rgba(54, 162, 235, 0.8)', 'rgba(255, 206, 86, 0.8)', 'rgba(75, 192, 192, 0.8)', 'rgba(153, 102, 255, 0.8)'],\n          hoverBackgroundColor: ['rgba(255, 99, 132, 1)', 'rgba(54, 162, 235, 1)', 'rgba(255, 206, 86, 1)', 'rgba(75, 192, 192, 1)', 'rgba(153, 102, 255, 1)']\n        }]\n      };\n    }\n  }\n};","map":{"version":3,"names":["Pie","Chart","ChartJS","Title","Tooltip","Legend","PieController","CategoryScale","LinearScale","PointElement","ArcElement","axios","register","name","components","data","loaded","chartData","mounted","fetchChartData","methods","response","get","mapResponseToChartData","error","console","labels","addresses","map","item","Address","datasets","PercentagePlanHolder","backgroundColor","hoverBackgroundColor"],"sources":["C:\\laragon\\www\\GitHub\\Funeral_System\\src\\components\\Admin\\TotalPercentage.vue"],"sourcesContent":["<template>\r\n  <div class=\"container\">\r\n    <Pie v-if=\"loaded\" :data=\"chartData\" />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { Pie } from 'vue-chartjs'\r\nimport { Chart as ChartJS, Title, Tooltip, Legend, PieController, CategoryScale, LinearScale, PointElement, ArcElement } from 'chart.js'\r\nimport axios from 'axios';\r\n\r\nChartJS.register(Title, Tooltip, Legend, PieController, CategoryScale, LinearScale, PointElement, ArcElement)\r\n\r\nexport default {\r\n  name: 'PieChart',\r\n  components: { Pie },\r\n  data() {\r\n    return {\r\n      loaded: false,\r\n      chartData: null\r\n    };\r\n  },\r\n  mounted() {\r\n    this.fetchChartData();\r\n  },\r\n  methods: {\r\n    async fetchChartData() {\r\n      try {\r\n        const response = await axios.get('/totallocationpercentage');\r\n        this.mapResponseToChartData(response.data);\r\n        this.loaded = true;\r\n      } catch (error) {\r\n        console.error('Error fetching data from the API:', error);\r\n        // Handle error, display message, or log it\r\n      }\r\n    },\r\n    mapResponseToChartData(data) {\r\n      // Map the response data to chartData\r\n      this.chartData = {\r\n        labels: data.addresses.map(item => item.Address),\r\n        datasets: [{\r\n          data: data.addresses.map(item => item.PercentagePlanHolder),\r\n          backgroundColor: [\r\n            'rgba(255, 99, 132, 0.8)',\r\n            'rgba(54, 162, 235, 0.8)',\r\n            'rgba(255, 206, 86, 0.8)',\r\n            'rgba(75, 192, 192, 0.8)',\r\n            'rgba(153, 102, 255, 0.8)',\r\n          ],\r\n          hoverBackgroundColor: [\r\n            'rgba(255, 99, 132, 1)',\r\n            'rgba(54, 162, 235, 1)',\r\n            'rgba(255, 206, 86, 1)',\r\n            'rgba(75, 192, 192, 1)',\r\n            'rgba(153, 102, 255, 1)',\r\n          ],\r\n        }],\r\n      };\r\n    },\r\n  }\r\n}\r\n</script>\r\n"],"mappings":"AAOA,SAASA,GAAE,QAAS,aAAY;AAChC,SAASC,KAAI,IAAKC,OAAO,EAAEC,KAAK,EAAEC,OAAO,EAAEC,MAAM,EAAEC,aAAa,EAAEC,aAAa,EAAEC,WAAW,EAAEC,YAAY,EAAEC,UAAS,QAAS,UAAS;AACvI,OAAOC,KAAI,MAAO,OAAO;AAEzBT,OAAO,CAACU,QAAQ,CAACT,KAAK,EAAEC,OAAO,EAAEC,MAAM,EAAEC,aAAa,EAAEC,aAAa,EAAEC,WAAW,EAAEC,YAAY,EAAEC,UAAU;AAE5G,eAAe;EACbG,IAAI,EAAE,UAAU;EAChBC,UAAU,EAAE;IAAEd;EAAI,CAAC;EACnBe,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,MAAM,EAAE,KAAK;MACbC,SAAS,EAAE;IACb,CAAC;EACH,CAAC;EACDC,OAAOA,CAAA,EAAG;IACR,IAAI,CAACC,cAAc,CAAC,CAAC;EACvB,CAAC;EACDC,OAAO,EAAE;IACP,MAAMD,cAAcA,CAAA,EAAG;MACrB,IAAI;QACF,MAAME,QAAO,GAAI,MAAMV,KAAK,CAACW,GAAG,CAAC,0BAA0B,CAAC;QAC5D,IAAI,CAACC,sBAAsB,CAACF,QAAQ,CAACN,IAAI,CAAC;QAC1C,IAAI,CAACC,MAAK,GAAI,IAAI;MACpB,EAAE,OAAOQ,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,mCAAmC,EAAEA,KAAK,CAAC;QACzD;MACF;IACF,CAAC;;IACDD,sBAAsBA,CAACR,IAAI,EAAE;MAC3B;MACA,IAAI,CAACE,SAAQ,GAAI;QACfS,MAAM,EAAEX,IAAI,CAACY,SAAS,CAACC,GAAG,CAACC,IAAG,IAAKA,IAAI,CAACC,OAAO,CAAC;QAChDC,QAAQ,EAAE,CAAC;UACThB,IAAI,EAAEA,IAAI,CAACY,SAAS,CAACC,GAAG,CAACC,IAAG,IAAKA,IAAI,CAACG,oBAAoB,CAAC;UAC3DC,eAAe,EAAE,CACf,yBAAyB,EACzB,yBAAyB,EACzB,yBAAyB,EACzB,yBAAyB,EACzB,0BAA0B,CAC3B;UACDC,oBAAoB,EAAE,CACpB,uBAAuB,EACvB,uBAAuB,EACvB,uBAAuB,EACvB,uBAAuB,EACvB,wBAAwB;QAE5B,CAAC;MACH,CAAC;IACH;EACF;AACF"},"metadata":{},"sourceType":"module","externalDependencies":[]}